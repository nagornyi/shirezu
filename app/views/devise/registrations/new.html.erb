<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title>Shirezu</title>
</head>

<body>
<ul id="menu">
  <li><a href="/users/sign_in" title="" class="current">
    Sign up
  </a></li>
  <div>
    <%="Welcome to Shirezu, version 0.5"%>
  </div>
</ul>
<br/>
<h2>Sign up</h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
  <div class="field">
    <% f.label :email %>
    <%= f.text_field :email, :class => 'glow', :style => "color:#888;", :value => "Email", :onfocus => "inputFocus(this)", :onblur => "inputBlur(this)", :onmouseover => "inputMouseOver(this)", :onmouseout => "inputMouseOut(this)" %>
  </div>
	<p/>
    <div class="field">
      <% f.label :password %>
      <%= f.text_field :password, :class => 'glow', :style => "color:#888;", :value => "Password", :onfocus => "inputFocusPassword(this)", :onblur => "inputBlur(this)", :onmouseover => "inputMouseOver(this)", :onmouseout => "inputMouseOut(this)" %>
    </div>
	<p/>
    <div class="field">
      <% f.label :password_confirmation %>
      <%= f.text_field :password_confirmation, :class => 'glow', :style => "color:#888;", :value => "Password confirmation", :onfocus => "inputFocusPassword(this)", :onblur => "inputBlur(this)", :onmouseover => "inputMouseOver(this)", :onmouseout => "inputMouseOut(this)" %>
    </div>
	<p/>
  <div class="field">
    <% f.label :username %>
    <%= f.text_field :username, :class => 'glow', :style => "color:#888;", :value => "Username", :onfocus => "inputFocus(this)", :onblur => "inputBlur(this)", :onmouseover => "inputMouseOver(this)", :onmouseout => "inputMouseOut(this)" %>
  </div>
	<p/>
	<label>Roles:</label><br/>
	<% if User.find(:all).blank? %>
  <% for role in Role.find(:all) %>
    <div>
      <%= check_box_tag "user[role_ids][]", role.id, @user.roles.include?(role) %>
      <%= role.name %>
    </div>
  <% end %>
	<% else %>
	<% for role in Role.find(:all, :conditions => [' name = ?' , 'Operator']) %>
    <div>
      <%= check_box_tag "user[role_ids][]", role.id, @user.roles.include?(role) %>
      <%= role.name %>
    </div>
  <% end %>
	<% end %>
  <p><%= f.submit "Sign up" %></p>
<% end %>

<%= render :partial => "devise/shared/links" %>
<%= devise_error_messages! %>
</body>
